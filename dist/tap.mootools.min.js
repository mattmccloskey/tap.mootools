Element.Events.tap={onAdd:function(){var t={},e={},o=3,n={touchstart:function(e){e.preventDefault(),this.store("touchmoved",!1),this.store("hastouch",!0),t.x=e.touches[0].pageX,t.y=e.touches[0].pageY},touchmove:function(n){e.x=n.touches[0].pageX,e.y=n.touches[0].pageY,(Math.abs(t.x-e.x)>o||Math.abs(t.y-e.y)>o)&&this.store("touchmoved",!0)},touchend:function(t){this.retrieve("touchmoved")||this.fireEvent("tap",t)}};this.store("tapEvents",n).addEvents(n)},onRemove:function(){this.removeEvents(this.retrieve("tapEvents"))}};var isTouch="ontouchstart"in window||"msmaxtouchpoints"in window.navigator;Element.Events.convertClicksToTaps={base:"click",condition:function(){return isTouch===!0?!1:void 0},onAdd:function(){isTouch===!0&&this.addEvent("tap",function(t){this.fireEvent("click",[t])})}};